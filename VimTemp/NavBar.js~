import React, { useState } from 'react'
import { Link } from 'react-router-dom'
import styled from 'styled-components'

import lightLogo from '../resources/lightLogo.svg'
import darkLogo from '../resources/darkLogo.svg'
import lightGithub from '../resources/lightGithub.svg'
import darkGithub from '../resources/darkGithub.svg'
import lightTwitter from '../resources/lightTwitter.svg'
import darkTwitter from '../resources/darkTwitter.svg'

import { bubble as Menu } from 'react-burger-menu'
import StyledLink from '../components/styled-link'
import lightBurguer from '../styled-components/lightBurguer'
import darkBurguer from '../styled-components/darkBurguer'

const LogoContainer = styled.div`
  padding: 1em 2em 0;
`

const Logo = styled.img`
  height: 3em;
  width: 7em;
`

const NavBar = ({ theme }) => {
  const [menuOpen, setMenuOpen] = useState(false)

  const closeMenu = () => {
    setMenuOpen(false)
  }

  const handleStateChange = state => {
    setMenuOpen(state.isOpen)
  }

  return (
    <div id="Navbar">
      <Menu
        pageWrapId={'Navbar__brand'}
        outerContainerId={'Navbar'}
        isOpen={menuOpen}
        onStateChange={state => {
          handleStateChange(state)
        }}
        styles={theme.name === 'light' ? lightBurguer : darkBurguer}
        right
      >
        <StyledLink route="/" onClick={() => closeMenu()}>
          <div>{'{ Home }'}</div>
        </StyledLink>
        <StyledLink route="/about" onClick={() => closeMenu()}>
          <div>{'{ About }'}</div>
        </StyledLink>
        <StyledLink route="/skills" onClick={() => closeMenu()}>
          <div>{'{ Skills }'}</div>
        </StyledLink>
        <StyledLink route="/work" onClick={() => closeMenu()}>
          <div>{'{ Work }'}</div>
        </StyledLink>
        <StyledLink route="/contact" onClick={() => closeMenu()}>
          <div>{'{ Contact }'}</div>
        </StyledLink>
        <Link className="Navbar__link" to="/">
          <img
            className="Navbar__section"
            src={theme.name === 'light' ? lightTwitter : darkTwitter}
            alt="Logo"
          />
        </Link>
        <Link className="Navbar__link" to="/">
          <img
            className="Navbar__section"
            src={theme.name === 'light' ? lightGithub : darkGithub}
            alt="Logo"
          />
        </Link>
      </Menu>
      <LogoContainer id="Navbar__brand">
        <Link to="/">
          <Logo
            src={theme.name === 'light' ? lightLogo : darkLogo}
            alt="Logo"
          />
        </Link>
      </LogoContainer>
    </div>
  )
}

export default NavBar
